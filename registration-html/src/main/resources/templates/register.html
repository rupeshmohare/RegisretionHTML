<!doctype html>
<html lang="en" xmlns="https://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
	<title>register</title>
</head>

<body>
	<div class="container">
		<h1 style="color: red">Registration Form</h1>

		<form class="col-5" th:action="@{/registerUser}" th:object="${user}" method="post">

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>ID</b></label>
				<input type="text" name="numberInput" th:field="*{numberInput}" oninput="checkLength()"
					class="form-control" placeholder="Enter ID" required>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>First Name</b></label>
				<input type="text" name="fname" th:field="*{fname}" pattern="[A-Za-z]+"
					title="Please enter only letters (A-Z or a-z)" oninput="checkLength()" min="0" class="form-control"
					placeholder="First Name" required>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>Last Name</b></label>
				<input type="text" name="lname" th:field="*{lname}" pattern="[A-Z a-z]+"
					title="Please enter only letters (A-Z or a-z)" class="form-control" oninput="checkLength()" min="0"
					placeholder="Last Name" required>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>DOB</b></label>
				<input type="date" name="dob" th:field="*{dob}" class="form-control" placeholder=" dd/MM/yyyy" required>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>Salary</b></label>
				<input type="text" name="salaryInput" th:field="*{salaryInput}" oninput="validateSalary()"
					class="form-control" placeholder="Salary" required>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label" th:field="*{gender}"><b>Gender
						&nbsp;</b></label>
				<div class="form-check form-check-inline">
					<input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="male" required>
					<label class="form-check-label" for="inlineRadio1">male</label>
				</div>

				<div class="form-check form-check-inline">
					<input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="female" required>
					<label class="form-check-label" for="inlineRadio2">female</label>
				</div>
			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>isEligible &nbsp;</b></label>

				<input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>

			</div>

			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label"><b>UserName</b></label>
				<input type="text" class="form-control" th:field="*{username}"
					pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[a-zA-Z\d!@#$%^&*]{6,8}"
					title="Please enter a valid alphanumeric value with minimum 6 and maximum 8 characters, including at least 1 capital letter, 1 number, and 1 special character"
					placeholder="UserName" required>
			</div>

			<div>
				<label for="exampleFormControlInput1" class="form-label"><b>Department &nbsp;</b></label>
				<select id="department" name="department" th:field="*{department}" required>
					<!-- <option value="" disabled selected>Select Gender</option> -->
					<option value="Computer">Computer</option>
					<option value="Science">Science</option>
					<option value="Biology">Biology</option>
					<option value="Chemistry">Chemistry</option>
				</select>
			</div>


			<button type="submit" class="btn btn-success">Register</button>
			<button type="reset" class="btn btn-success">Reset</button>

			<script>
				function checkLength() {
					var input = document.getElementById('numberInput');
					if (input.value.length > 10) {
						input.value = input.value.slice(0, 10);
					}
					var input = document.getElementById('fname');
					if (input.value.length > 100) {
						console.log("Input is more than 100");
						alert("Your input is more than 100 characters");
						input.value = input.value.slice(0, 100);
					}
					var input = document.getElementById('lname');
					if (input.value.length > 100) {
						input.value = input.value.slice(0, 100);
					}

				}
				function validateSalary() {
					var input = document.getElementById('salaryInput');
					var regex = /^\d{1,6}(\.\d{1,2})?$/;
					if (!regex.test(input.value)) {
						input.setCustomValidity("Enter the salary in number format");
					} else {
						input.setCustomValidity('');
					}
					if (input.value.length > 8) {
						input.value = input.value.slice(0, 8);
					}
				}


			</script>


</body>

</html>

</form>

</div>
</body>

</html>